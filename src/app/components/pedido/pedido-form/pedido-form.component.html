<form [formGroup]="pedidoForm" (ngSubmit)="onSubmit()">
  <!-- Campos Principais do Pedido -->
  <div>
    <label>Nome:</label>
    <input formControlName="nome" />
  </div>

  <div>
    <label>Email:</label>
    <input formControlName="email" />
  </div>

  <!-- Telefones -->
  <div>
    <label>Telefone:</label>
    <input formControlName="telefone.numero" placeholder="Número de Telefone" />
  </div>

  <!-- Endereço -->
  <div>
    <label>CEP:</label>
    <input formControlName="endereco.cep" />

    <label>Logradouro:</label>
    <input formControlName="endereco.logradouro" />

    <label>Bairro:</label>
    <input formControlName="endereco.bairro" />

    <label>Complemento:</label>
    <input formControlName="endereco.complemento" />

    <!-- Município e Estado -->
    <div formGroupName="endereco.municipio">
      <label>Município:</label>
      <input formControlName="nome" />

      <div formGroupName="estado">
        <label>Estado:</label>
        <input formControlName="nome" placeholder="Nome do Estado" />
        <input formControlName="sigla" placeholder="Sigla do Estado" />
      </div>
    </div>
  </div>

  <!-- Seção de Pagamento -->
  <div>
    <label>Forma de Pagamento:</label>
    <div>
      <label>
        <input type="radio" formControlName="formaDePagamento" value="PIX" (change)="atualizarFormaDePagamento()" />
        PIX
      </label>
      <label>
        <input type="radio" formControlName="formaDePagamento" value="CARTAO" (change)="atualizarFormaDePagamento()" />
        Cartão
      </label>
    </div>
  </div>

  <!-- Campos do Cartão (habilitados apenas se Cartão for selecionado) -->
  <div *ngIf="pedidoForm.get('formaDePagamento')?.value === 'CARTAO'" formGroupName="cartao">
    <label>Número do Cartão:</label>
    <input formControlName="numero" />

    <label>Nome do Titular:</label>
    <input formControlName="nomeTitular" />

    <label>Validade:</label>
    <input formControlName="validade" placeholder="MM/AA" />

    <label>CVV:</label>
    <input formControlName="cvv" />
  </div>

  <!-- Pix QR Code -->
  <div *ngIf="pedidoForm.get('formaDePagamento')?.value === 'PIX'">
    <label>QR Code:</label>
    <img [src]="qrCodePix" alt="QR Code Pix" />
    <p>Copia e Cola: {{ copiaColaPix }}</p>
  </div>

  <!-- Botões de Ação -->
  <div>
    <button type="submit" [disabled]="pedidoForm.invalid">Confirmar Pedido</button>
    <button type="button" (click)="cancelarPedido()">Cancelar</button>
  </div>
</form>